(
  (factorial (n)
    (0
       (lc r0 0)
       (st total r0)
       (br r0 1 1) )
    (1
       (lc r1 1)
       (st total r1)
       (lc r2 0)
       (br r2 2 2) )
    (2
       (ld r3 n)
       (lc r4 1)
       (gt r5 r3 r4)
       (br r5 3 4) )
    (3
       (ld r7 total)
       (ld r8 n)
       (mul r9 r7 r8)
       (st total r9)
       (ld r10 n)
       (lc r11 1)
       (sub r12 r10 r11)
       (st n r12)
       (lc r13 0)
       (br r13 2 2) )
    (4
       (ld r14 total)
       (ld r15 n)
       (lc r16 0)
       (geq r17 r15 r16)
       (mul r18 r14 r17)
       (ret r18) )
  )
  (fibonacci (n)
    (0
       (lc r0 0)
       (st tmp r0)
       (st pred r0)
       (st prepred r0)
       (st sign r0)
       (br r0 1 1) )
    (1
       (ld r1 n)
       (lc r2 0)
       (lt r3 r1 r2)
       (br r3 2 3) )
    (2
       (ld r5 n)
       (neg r6 r5 r5)
       (st n r6)
       (ld r7 n)
       (lc r8 2)
       (mod r9 r7 r8)
       (lc r10 2)
       (mul r11 r9 r10)
       (lc r12 1)
       (sub r13 r11 r12)
       (st sign r13)
       (add r15 r12 r0)
       (lc r14 0)
       (br r14 4 4) )
    (3
       (lc r15 1)
       (st sign r15)
       (add r15 r14 r0)
       (lc r16 0)
       (br r16 4 4) )
    (4
       (lc r16 1)
       (st pred r16)
       (lc r17 0)
       (st prepred r17)
       (lc r18 0)
       (br r18 5 5) )
    (5
       (ld r19 n)
       (lc r20 0)
       (neq r21 r19 r20)
       (br r21 6 7) )
    (6
       (ld r23 pred)
       (st tmp r23)
       (ld r24 pred)
       (ld r25 prepred)
       (add r26 r24 r25)
       (st pred r26)
       (ld r27 tmp)
       (st prepred r27)
       (ld r28 n)
       (lc r29 1)
       (sub r30 r28 r29)
       (st n r30)
       (lc r31 0)
       (br r31 5 5) )
    (7
       (ld r32 prepred)
       (ld r33 sign)
       (mul r34 r32 r33)
       (ret r34) )
  )
  (perm (n r)
    (0
       (lc r0 0)
       (br r0 1 1) )
    (1
       (ld r1 n)
       (call r2 factorial r1)
       (ld r3 n)
       (ld r4 r)
       (sub r5 r3 r4)
       (call r6 factorial r5)
       (div r7 r2 r6)
       (ret r7) )
  )
  (binom (n r)
    (0
       (lc r0 0)
       (br r0 1 1) )
    (1
       (ld r1 n)
       (ld r2 r)
       (call r3 perm r1 r2)
       (ld r4 r)
       (call r5 factorial r4)
       (div r6 r3 r5)
       (ret r6) )
  )
  (choose (n r)
    (0
       (lc r0 0)
       (br r0 1 1) )
    (1
       (ld r1 n)
       (ld r2 r)
       (call r3 binom r1 r2)
       (ret r3) )
  )
  (catalan (n)
    (0
       (lc r0 0)
       (br r0 1 1) )
    (1
       (lc r1 2)
       (ld r2 n)
       (mul r3 r1 r2)
       (ld r4 n)
       (call r5 binom r3 r4)
       (ld r6 n)
       (lc r7 1)
       (add r8 r6 r7)
       (div r9 r5 r8)
       (ret r9) )
  )
  (sqrt (n)
    (0
       (lc r0 0)
       (st val r0)
       (br r0 1 1) )
    (1
       (lc r1 0)
       (br r1 2 2) )
    (2
       (ld r2 val)
       (lc r3 2)
       (pow r4 r2 r3)
       (ld r5 n)
       (leq r6 r4 r5)
       (br r6 3 4) )
    (3
       (ld r8 val)
       (lc r9 1)
       (add r10 r8 r9)
       (st val r10)
       (lc r11 0)
       (br r11 2 2) )
    (4
       (ld r12 val)
       (lc r13 1)
       (sub r14 r12 r13)
       (ret r14) )
  )
  (isPrime (n)
    (0
       (lc r0 0)
       (st max r0)
       (st factor r0)
       (br r0 1 1) )
    (1
       (ld r1 n)
       (call r2 sqrt r1)
       (st max r2)
       (lc r3 2)
       (st factor r3)
       (lc r4 0)
       (br r4 2 2) )
    (2
       (ld r5 factor)
       (ld r6 max)
       (leq r7 r5 r6)
       (br r7 3 6) )
    (3
       (ld r9 n)
       (ld r10 factor)
       (mod r11 r9 r10)
       (not r12 r11 r11)
       (br r12 4 5) )
    (4
       (lc r14 0)
       (ret r14) )
    (5
       (ld r15 factor)
       (lc r16 1)
       (add r17 r15 r16)
       (st factor r17)
       (lc r18 0)
       (br r18 2 2) )
    (6
       (ld r19 n)
       (lc r20 1)
       (gt r21 r19 r20)
       (ret r21) )
  )
  (prime (n)
    (0
       (lc r0 0)
       (st pcount r0)
       (st cand r0)
       (br r0 1 1) )
    (1
       (ld r1 n)
       (lc r2 1)
       (lt r3 r1 r2)
       (br r3 2 3) )
    (2
       (lc r5 0)
       (ret r5) )
    (3
       (lc r6 1)
       (st cand r6)
       (lc r7 0)
       (br r7 4 4) )
    (4
       (ld r8 pcount)
       (ld r9 n)
       (lt r10 r8 r9)
       (br r10 5 6) )
    (5
       (ld r12 cand)
       (lc r13 1)
       (add r14 r12 r13)
       (st cand r14)
       (ld r15 pcount)
       (ld r16 cand)
       (call r17 isPrime r16)
       (add r18 r15 r17)
       (st pcount r18)
       (lc r19 0)
       (br r19 4 4) )
    (6
       (ld r20 cand)
       (ret r20) )
  )
  (coprime (m n)
    (0
       (lc r0 0)
       (st f r0)
       (br r0 1 1) )
    (1
       (ld r1 m)
       (ld r2 n)
       (call r3 gcd r1 r2)
       (st f r3)
       (lc r4 0)
       (br r4 2 2) )
    (2
       (ld r5 f)
       (lc r6 1)
       (neq r7 r5 r6)
       (br r7 3 6) )
    (3
       (ld r9 f)
       (ld r10 m)
       (eq r11 r9 r10)
       (ld r12 f)
       (ld r13 n)
       (eq r14 r12 r13)
       (or r15 r11 r14)
       (br r15 4 5) )
    (4
       (lc r17 0)
       (ret r17) )
    (5
       (ld r18 m)
       (ld r19 f)
       (div r20 r18 r19)
       (ld r21 n)
       (ld r22 f)
       (div r23 r21 r22)
       (st m r20)
       (st n r23)
       (lc r24 0)
       (br r24 2 2) )
    (6
       (lc r25 1)
       (ret r25) )
  )
  (numPrimeDivisors (n)
    (0
       (lc r0 0)
       (st i r0)
       (st p r0)
       (st k r0)
       (br r0 1 1) )
    (1
       (lc r1 1)
       (st i r1)
       (ld r2 i)
       (call r3 prime r2)
       (st p r3)
       (lc r4 0)
       (br r4 2 2) )
    (2
       (ld r5 n)
       (lc r6 1)
       (gt r7 r5 r6)
       (br r7 3 7) )
    (3
       (ld r9 n)
       (ld r10 p)
       (mod r11 r9 r10)
       (not r12 r11 r11)
       (br r12 4 5) )
    (4
       (ld r14 k)
       (lc r15 1)
       (add r16 r14 r15)
       (st k r16)
       (ld r17 n)
       (ld r18 p)
       (div r19 r17 r18)
       (st n r19)
       (add r25 r18 r0)
       (lc r20 0)
       (br r20 6 6) )
    (5
       (ld r21 i)
       (lc r22 1)
       (add r23 r21 r22)
       (st i r23)
       (ld r24 i)
       (call r25 prime r24)
       (st p r25)
       (add r25 r24 r0)
       (lc r26 0)
       (br r26 6 6) )
    (6
       (lc r26 0)
       (br r26 2 2) )
    (7
       (ld r27 k)
       (ret r27) )
  )
  (phi (n)
    (0
       (lc r0 0)
       (st i r0)
       (st p r0)
       (st k r0)
       (st pPhi r0)
       (st result r0)
       (br r0 1 1) )
    (1
       (lc r1 1)
       (st i r1)
       (ld r2 i)
       (call r3 prime r2)
       (st p r3)
       (lc r4 1)
       (st result r4)
       (lc r5 0)
       (br r5 2 2) )
    (2
       (ld r6 n)
       (lc r7 1)
       (gt r8 r6 r7)
       (br r8 3 7) )
    (3
       (ld r10 n)
       (ld r11 p)
       (mod r12 r10 r11)
       (not r13 r12 r12)
       (br r13 4 5) )
    (4
       (ld r15 k)
       (lc r16 1)
       (add r17 r15 r16)
       (st k r17)
       (ld r18 n)
       (ld r19 p)
       (div r20 r18 r19)
       (st n r20)
       (add r45 r19 r0)
       (lc r21 0)
       (br r21 6 6) )
    (5
       (ld r22 result)
       (ld r23 k)
       (lc r24 0)
       (gt r25 r23 r24)
       (ld r26 p)
       (ld r27 k)
       (lc r28 1)
       (sub r29 r27 r28)
       (pow r30 r26 r29)
       (mul r31 r25 r30)
       (ld r32 p)
       (lc r33 1)
       (sub r34 r32 r33)
       (mul r35 r31 r34)
       (mul r36 r22 r35)
       (st result r36)
       (ld r37 k)
       (lc r38 0)
       (gt r39 r37 r38)
       (not r40 r39 r39)
       (st k r40)
       (ld r41 i)
       (lc r42 1)
       (add r43 r41 r42)
       (st i r43)
       (ld r44 i)
       (call r45 prime r44)
       (st p r45)
       (add r45 r44 r0)
       (lc r46 0)
       (br r46 6 6) )
    (6
       (lc r46 0)
       (br r46 2 2) )
    (7
       (ld r47 result)
       (ld r48 k)
       (lc r49 0)
       (gt r50 r48 r49)
       (mul r51 r47 r50)
       (ld r52 p)
       (ld r53 k)
       (lc r54 1)
       (sub r55 r53 r54)
       (pow r56 r52 r55)
       (mul r57 r51 r56)
       (ld r58 p)
       (lc r59 1)
       (sub r60 r58 r59)
       (mul r61 r57 r60)
       (ret r61) )
  )
  (gcd (a b)
    (0
       (lc r0 0)
       (br r0 1 1) )
    (1
       (ld r1 a)
       (ld r2 b)
       (mod r3 r1 r2)
       (not r4 r3 r3)
       (br r4 2 3) )
    (2
       (ld r6 b)
       (add r14 r6 r0)
       (lc r8 0)
       (br r8 4 4) )
    (3
       (ld r9 b)
       (ld r10 a)
       (ld r11 b)
       (mod r12 r10 r11)
       (call r13 gcd r9 r12)
       (add r14 r13 r0)
       (lc r15 0)
       (br r15 4 4) )
    (4
       (ret r14) )
  )
  (triangular (n)
    (0
       (lc r0 0)
       (br r0 1 1) )
    (1
       (ld r1 n)
       (lc r2 1)
       (add r3 r1 r2)
       (ld r4 n)
       (mul r5 r3 r4)
       (lc r6 2)
       (div r7 r5 r6)
       (ret r7) )
  )
  (ackermann (m n)
    (0
       (lc r0 0)
       (br r0 1 1) )
    (1
       (ld r1 m)
       (not r2 r1 r1)
       (br r2 2 3) )
    (2
       (ld r4 n)
       (lc r5 1)
       (add r6 r4 r5)
       (add r29 r6 r0)
       (lc r8 0)
       (br r8 7 7) )
    (3
       (ld r9 n)
       (not r10 r9 r9)
       (br r10 4 5) )
    (4
       (ld r12 m)
       (lc r13 1)
       (sub r14 r12 r13)
       (lc r15 1)
       (call r16 ackermann r14 r15)
       (add r28 r16 r0)
       (lc r18 0)
       (br r18 6 6) )
    (5
       (ld r19 m)
       (lc r20 1)
       (sub r21 r19 r20)
       (ld r22 m)
       (ld r23 n)
       (lc r24 1)
       (sub r25 r23 r24)
       (call r26 ackermann r22 r25)
       (call r27 ackermann r21 r26)
       (add r28 r27 r0)
       (lc r29 0)
       (br r29 6 6) )
    (6
       (add r29 r28 r0)
       (lc r30 0)
       (br r30 7 7) )
    (7
       (ret r29) )
  )
  (uparrow (a b p)
    (0
       (lc r0 0)
       (br r0 1 1) )
    (1
       (ld r1 p)
       (lc r2 1)
       (eq r3 r1 r2)
       (br r3 2 3) )
    (2
       (ld r5 a)
       (ld r6 b)
       (pow r7 r5 r6)
       (add r29 r7 r0)
       (lc r9 0)
       (br r9 7 7) )
    (3
       (ld r10 b)
       (lc r11 1)
       (eq r12 r10 r11)
       (br r12 4 5) )
    (4
       (ld r14 a)
       (add r28 r14 r0)
       (lc r16 0)
       (br r16 6 6) )
    (5
       (ld r17 a)
       (ld r18 a)
       (ld r19 b)
       (lc r20 1)
       (sub r21 r19 r20)
       (ld r22 p)
       (call r23 uparrow r18 r21 r22)
       (ld r24 p)
       (lc r25 1)
       (sub r26 r24 r25)
       (call r27 uparrow r17 r23 r26)
       (add r28 r27 r0)
       (lc r29 0)
       (br r29 6 6) )
    (6
       (add r29 r28 r0)
       (lc r30 0)
       (br r30 7 7) )
    (7
       (ret r29) )
  )
  (main ()
    (0
       (lc r0 0)
       (st i r0)
       (br r0 1 1) )
    (1
       (lc r1 4)
       (neg r2 r1 r1)
       (call r3 fibonacci r2)
       (lc r4 5)
       (call r5 catalan r4)
       (lc r6 256)
       (call r7 sqrt r6)
       (lc r8 5)
       (lc r9 4)
       (call r10 choose r8 r9)
       (print r3 r5 r7 r10)
       (lc r11 47)
       (call r12 isPrime r11)
       (lc r13 20)
       (call r14 isPrime r13)
       (lc r15 10)
       (lc r16 5)
       (call r17 coprime r15 r16)
       (lc r18 13)
       (lc r19 7)
       (call r20 coprime r18 r19)
       (print r12 r14 r17 r20)
       (lc r21 10)
       (call r22 prime r21)
       (lc r23 1024)
       (call r24 numPrimeDivisors r23)
       (print r22 r24)
       (print )
       (lc r25 0)
       (br r25 2 2) )
    (2
       (ld r26 i)
       (lc r27 10)
       (lt r28 r26 r27)
       (br r28 3 4) )
    (3
       (ld r30 i)
       (call r31 triangular r30)
       (ld r32 i)
       (call r33 prime r32)
       (mul r34 r31 r33)
       (print r34)
       (ld r35 i)
       (lc r36 1)
       (add r37 r35 r36)
       (st i r37)
       (lc r38 0)
       (br r38 2 2) )
    (4
       (print )
       (lc r39 13)
       (lc r40 299)
       (call r41 gcd r39 r40)
       (lc r42 20)
       (lc r43 45)
       (call r44 gcd r42 r43)
       (lc r45 36)
       (call r46 phi r45)
       (print r41 r44 r46)
       (lc r47 2)
       (lc r48 2)
       (call r49 ackermann r47 r48)
       (lc r50 3)
       (lc r51 2)
       (lc r52 2)
       (call r53 uparrow r50 r51 r52)
       (print r49 r53)
       (lc r54 123)
       (neg r55 r54 r54)
       (ret r55) )
  )
)
